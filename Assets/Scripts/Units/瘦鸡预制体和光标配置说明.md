# 瘦鸡预制体和鼠标光标配置说明

## 一、瘦鸡预制体配置

### 功能说明

现在 `ChickenUnit` 支持两种方式显示瘦鸡：
1. **代码方式**（默认）：通过改变颜色和大小来显示瘦鸡
2. **预制体方式**（推荐）：使用独立的瘦鸡预制体替换

### 配置步骤

#### 1. 创建瘦鸡预制体

1. 在 Unity 编辑器中，创建一个新的 GameObject
2. 添加以下组件：
   - `Transform`（自动添加）
   - `Rigidbody2D`
   - `SpriteRenderer`（设置你的瘦鸡图片）
   - `Collider2D`（可选，如果需要碰撞检测）
   - `ChickenUnit` 脚本

3. 配置 `ChickenUnit` 组件：
   - 确保 `isFat` 初始值为 `false`（瘦鸡状态）
   - 设置其他参数（血量、移动速度等）

4. 将 GameObject 保存为预制体：
   - 拖拽到 `Assets/Prefabs` 文件夹
   - 命名为 `Chicken_Thin.prefab`

#### 2. 配置肥鸡预制体

1. 打开 `Assets/Prefabs/Chicken_Fat.prefab`
2. 在 Inspector 中找到 `ChickenUnit` 组件
3. 在 **瘦鸡预制体** 部分：
   - 将 `Chicken_Thin.prefab` 拖拽到 `Thin Chicken Prefab` 字段
   - ✅ 勾选 `Use Thin Chicken Prefab` 复选框

#### 3. 工作原理

- 当鸡产出时（血量归零），如果启用了 `useThinChickenPrefab`：
  - 系统会在当前位置实例化瘦鸡预制体
  - 销毁原来的肥鸡对象
  - 瘦鸡预制体继承位置和旋转

- 当瘦鸡恢复为肥鸡时：
  - 如果使用预制体方式，需要手动处理恢复逻辑
  - 或者保持代码方式恢复（修改颜色和大小）

### 注意事项

⚠️ **重要**：如果使用瘦鸡预制体替换方式，恢复逻辑可能需要特殊处理。因为瘦鸡和肥鸡是不同的预制体，恢复时需要替换回肥鸡预制体。

**建议方案**：
- 方案 A：瘦鸡预制体也使用 `ChickenUnit` 脚本，通过代码方式恢复（修改颜色和大小）
- 方案 B：瘦鸡预制体不包含 `ChickenUnit` 脚本，恢复时从 `ChickenSpawner` 获取肥鸡预制体并替换

---

## 二、自定义鼠标光标配置

### 功能说明

`PlayerController` 现在支持自定义鼠标光标图片。

### 配置步骤

#### 1. 准备光标图片

1. 准备你的光标图片（推荐格式：PNG，支持透明）
2. 将图片导入到 Unity 项目（例如：`Assets/Sprites/Cursor.png`）

3. 在 Inspector 中配置图片导入设置：
   - `Texture Type`: `Cursor`
   - `Max Size`: 根据图片大小设置（通常 32x32 或 64x64）
   - `Read/Write Enabled`: ✅ 勾选（如果需要）
   - 点击 `Apply`

#### 2. 配置 PlayerController

1. 在场景中找到 `PlayerCursor` GameObject
2. 在 Inspector 中找到 `PlayerController` 组件
3. 在 **鼠标光标** 部分：
   - 将光标图片拖拽到 `Custom Cursor` 字段
   - 设置 `Cursor Hotspot`：
     - 如果光标图片的点击点在中心：`(0.5, 0.5)` × 图片尺寸
     - 如果光标图片的点击点在左上角：`(0, 0)`
     - 如果光标图片的点击点在某个特定像素：直接设置像素坐标，例如 `(16, 16)`

#### 3. 热点位置说明

`Cursor Hotspot` 是光标图片上实际点击的位置（以像素为单位）：
- `(0, 0)` = 左上角
- `(width/2, height/2)` = 中心点
- `(x, y)` = 图片上的特定像素坐标

**示例**：
- 如果光标图片是 32x32，点击点在中心：`(16, 16)`
- 如果光标图片是 64x64，点击点在左上角：`(0, 0)`
- 如果光标是箭头，点击点在箭头尖端：通常是 `(0, 0)` 或 `(5, 5)`

### 工作原理

- 在 `Start()` 时，如果设置了 `customCursor`，会自动应用自定义光标
- 光标会在整个游戏过程中保持，直到游戏对象销毁
- 如果 `customCursor` 为空，使用系统默认光标

### 测试

1. 运行游戏
2. 移动鼠标，应该看到自定义光标
3. 如果光标位置不对，调整 `Cursor Hotspot` 值

---

## 三、完整配置示例

### 瘦鸡预制体配置

```
Chicken_Fat.prefab
└── ChickenUnit 组件
    ├── Thin Chicken Prefab: Chicken_Thin.prefab
    └── Use Thin Chicken Prefab: ✅ 勾选
```

### 鼠标光标配置

```
PlayerCursor GameObject
└── PlayerController 组件
    ├── Custom Cursor: Assets/Sprites/Cursor.png
    └── Cursor Hotspot: (16, 16)  // 根据你的光标图片调整
```

---

## 四、常见问题

### Q1: 瘦鸡预制体替换后，恢复功能不工作？

**A**: 如果使用预制体替换方式，恢复逻辑需要特殊处理。建议：
- 瘦鸡预制体也包含 `ChickenUnit` 脚本
- 恢复时使用代码方式改变外观（颜色和大小），而不是替换预制体
- 或者实现一个恢复系统，从 `ChickenSpawner` 获取肥鸡预制体并替换

### Q2: 光标图片显示不正确？

**A**: 检查以下几点：
- 图片的 `Texture Type` 是否设置为 `Cursor`
- `Cursor Hotspot` 是否设置正确
- 图片是否支持透明（PNG 格式）
- 图片尺寸是否合适（推荐 32x32 或 64x64）

### Q3: 光标在游戏外也显示？

**A**: 这是正常的，Unity 的 `Cursor.SetCursor()` 会改变系统光标。如果需要只在游戏内显示，可以考虑使用 UI Image 跟随鼠标。

---

## 完成！

配置完成后：
- ✅ 瘦鸡会使用你的自定义预制体显示
- ✅ 鼠标光标会使用你的自定义图片

享受你的自定义素材吧！

